function newFeed(){feedName="dummi",valueArray=["phone"],valueDetailArray=["us"],itemArray=["0","1"],gender="both",document.getElementById("valueTypeSelection").value="firstName",document.getElementById("both").checked=!0,$("#feedName").val(""),$("#itemNumber").val(itemArray.length),removeValue("all"),generateUniqueURL(),updateFeed()}function generateUniqueURL(){for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;10>n;n++)e+=a.charAt(Math.floor(Math.random()*a.length));var l="http://feed.me/"+e}function updateOutput(){var e=document.getElementById("outputTypeSelection"),a=e.options[e.selectedIndex].value;switch(document.getElementById("feedTypeTitle").innerHTML=a,document.getElementById("valueTypeLabel").innerHTML="value type",a){case"CSV":outputType="CSV",document.getElementById("feedNameLabel").innerHTML="File Name",$("#feedName").attr("placeholder","Name Your CSV File"),document.getElementById("itemNumberLabel").innerHTML="# of rows";break;default:outputType="JSON",document.getElementById("feedNameLabel").innerHTML="Primary Keyword Name",$("#feedName").attr("placeholder","Name Your Primary Keyword"),document.getElementById("itemNumberLabel").innerHTML="# of items"}updateFeed()}function addValue(){var e=document.getElementById("valueTypeSelection"),a=e.options[e.selectedIndex].value,n=valueArray.length;"phone"==a?valueArray.push("usPhone"):valueArray.push(a),"phone"==a?valueDetailArray.push("us"):"age"==a?valueDetailArray.push("ad"):valueDetailArray.push("none"),"phone"==a?$("#valueWrapper").append('<section class="block" id="valueBlock'+n+'"><a href="javascript:removeValue('+n+')" class="close">✕</a><span class="node-name">'+a+'</span><input type="checkbox" id="phoneNumber'+n+'" name="toggles" class="toggle-switch" checked><label class="toggle" for="phoneNumber'+n+'"><span></span></label><div class="options"><div class="options--frame"><span class="eyebrow">Country</span><ul class="radio-list"><li><input type="radio" name="phone'+n+'" onclick="updateItemDetail(this.id)" id="us'+n+'" checked><label for="us'+n+'">US</label></li><li><input type="radio" name="phone'+n+'" onclick="updateItemDetail(this.id)" id="uk'+n+'"><label for="uk'+n+'">UK</label></li><li><input type="radio" name="phone'+n+'" onclick="updateItemDetail(this.id)" id="de'+n+'"><label for="de'+n+'">DE</label></li></ul></div></div></section>'):"age"==a?$("#valueWrapper").append('<section class="block" id="valueBlock'+n+'"><a href="javascript:removeValue('+n+')" class="close">✕</a><span class="node-name">'+a+'</span><input type="checkbox" id="age'+n+'" name="toggles" class="toggle-switch" checked><label class="toggle" for="age'+n+'"><span></span></label><div class="options"><div class="options--frame"><span class="eyebrow">boundries</span><ul class="radio-list"><li><input type="radio" name="age'+n+'" onclick="updateItemDetail(this.id)" id="cd'+n+'"><label for="cd'+n+'">Child</label></li><li><input type="radio" name="age'+n+'" onclick="updateItemDetail(this.id)" id="tn'+n+'"><label for="tn'+n+'">Teenager</label></li><li><input type="radio" name="age'+n+'" onclick="updateItemDetail(this.id)" id="ad'+n+'" checked><label for="ad'+n+'">Adult</label></li><li><input type="radio" name="age'+n+'" onclick="updateItemDetail(this.id)" id="sn'+n+'"><label for="sn'+n+'">Senior</label></li></ul></div></div></section>'):$("#valueWrapper").append('<section class="block" id="valueBlock'+n+'"><a href="javascript:removeValue('+n+')" class="close">✕</a><span class="node-name">'+a+"</span></section>"),removeValue("none"),updateFeed()}function removeValue(e){if("all"==e)valueArray=[],valueDetailArray=[],document.getElementById("valueWrapper").innerHTML="";else{"none"!=e&&(valueArray.splice(e,1),valueDetailArray.splice(e,1)),document.getElementById("valueWrapper").innerHTML="";for(var a=0;a<valueArray.length;a+=1)if("phone"==valueArray[a]||"usPhone"==valueArray[a]||"ukPhone"==valueArray[a]||"dePhone"==valueArray[a])$("#valueWrapper").append('<section class="block" id="valueBlock'+a+'"><a href="javascript:removeValue('+a+')" class="close">✕</a><span class="node-name">'+valueArray[a]+'</span><input type="checkbox" id="phoneNumber'+a+'" name="toggles" class="toggle-switch" checked><label class="toggle" for="phoneNumber'+a+'"><span></span></label><div class="options"><div class="options--frame"><span class="eyebrow">Country</span><ul class="radio-list"><li><input type="radio" name="phone'+a+'" onclick="updateItemDetail(this.id)" id="us'+a+'" checked><label for="us'+a+'">US</label></li><li><input type="radio" name="phone'+a+'" onclick="updateItemDetail(this.id)" id="uk'+a+'"><label for="uk'+a+'">UK</label></li><li><input type="radio" name="phone'+a+'" onclick="updateItemDetail(this.id)" id="de'+a+'"><label for="de'+a+'">DE</label></li></ul></div></div></section>'),document.getElementById(valueDetailArray[a]+a).checked=!0;else if("age"==valueArray[a]||"cdAge"==valueArray[a]||"tnAge"==valueArray[a]||"snAge"==valueArray[a]){var n="";switch(valueArray[a]){case"cdAge":n="childAge";break;case"tnAge":n="teenAge";break;case"snAge":n="seniorAge";break;default:n="age"}$("#valueWrapper").append('<section class="block" id="valueBlock'+a+'"><a href="javascript:removeValue('+a+')" class="close">✕</a><span class="node-name">'+n+'</span><input type="checkbox" id="age'+a+'" name="toggles" class="toggle-switch" checked><label class="toggle" for="age'+a+'"><span></span></label><div class="options"><div class="options--frame"><span class="eyebrow">boundries</span><ul class="radio-list"><li><input type="radio" name="age'+a+'" onclick="updateItemDetail(this.id)" id="cd'+a+'"><label for="cd'+a+'">Child</label></li><li><input type="radio" name="age'+a+'" onclick="updateItemDetail(this.id)" id="tn'+a+'"><label for="tn'+a+'">Teenager</label></li><li><input type="radio" name="age'+a+'" onclick="updateItemDetail(this.id)" id="ad'+a+'" checked><label for="ad'+a+'">Adult</label></li><li><input type="radio" name="age'+a+'" onclick="updateItemDetail(this.id)" id="sn'+a+'"><label for="sn'+a+'">Senior</label></li></ul></div></div></section>'),document.getElementById(valueDetailArray[a]+a).checked=!0}else $("#valueWrapper").append('<section class="block" id="valueBlock'+a+'"><a href="javascript:removeValue('+a+')" class="close">✕</a><span class="node-name">'+valueArray[a]+"</span></section>")}updateFeed()}function updateItemDetail(e){switch(e){case"both":gender="both";break;case"male":gender="male";break;case"female":gender="female";break;default:var a=e.substring(0,2),n=e.substr(2);valueDetailArray[n]=a,"us"==a||"uk"==a||"de"==a?valueArray[n]=a+"Phone":"cd"!=a&&"tn"!=a&&"sn"!=a||(valueArray[n]=a+"Age")}removeValue("none"),updateFeed()}function copyLink(){var e=$("#path--field").val();document.getElementById("path--field").focus(),document.getElementById("path--field").select(),document.execCommand("copy"),document.getElementById("copyButton").focus(),$("#path--field").val("COPIED"),setTimeout(function(){$("#path--field").val(e)},700)}function updateFeed(){var e='{<br>"<span>'+feedName+'</span>": [<br>',a="<span>fullName";a+=valueArray.length>0?",":"</span><br>";for(var n=0;n<valueArray.length;n+=1)a+=valueArray[n],a+=valueArray.length>n+1?",":"</span><br>";for(var l=itemArray.length,n=0;l>n;n+=1){e+="&nbsp;&nbsp;&nbsp;&nbsp;{<br>";var s="",t="";if("male"==gender)s=chance.name({gender:"male"});else if("female"==gender)s=chance.name({gender:"female"});else{var i=chance.integer({min:1,max:2});switch(i){case 1:s=chance.name({gender:"female"}),t="female";break;default:s=chance.name({gender:"male"}),t="male"}}var r=s;r=r.split(" ")[0],r=r.toLowerCase(),r=r.charAt(0);var p=s;p=p.split(" ")[1],username=r+p;var o=chance.integer({min:1,max:12}),d=chance.integer({min:13,max:17}),c=chance.integer({min:18,max:61}),u=chance.integer({min:62,max:95}),m=chance.bool({likelihood:60}),b=chance.phone({country:"us",mobile:!0}),h=chance.phone({country:"uk",mobile:!0}),v=["0150","0151","0160","0170","0171","0175","0152","0162","0172","0173","0174","0155","0163","0177","0178","0159","0176","0179","0161","0167","0164","0168","0169"],g=chance.integer({min:1,max:v.length-1}),y=v[g]+"&nbsp;"+chance.integer({min:1e6,max:9999999});e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>fullName</span>": "'+s+'"',a+=s,0==valueArray.length?e+="<br>":(e+=",<br>",a+=",");for(var f=0;f<valueArray.length;f+=1){var k=valueArray[f],A=valueDetailArray[f];switch(k){case"firstName":r=s.split(" ")[0],e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>firstName</span>": "'+r+'"',a+=r;break;case"lastName":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>lastName</span>": "'+p+'"',a+=p;break;case"gender":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>gender</span>": "'+t+'"',a+=t;break;case"cdAge":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>childAge</span>": '+o,a+=o;break;case"tnAge":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>teenAge</span>": '+d,a+=d;break;case"age":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>age</span>": '+c,a+=c;break;case"snAge":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>seniorAge</span>": '+u,a+=u;break;case"username":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>username</span>": "'+username+'"',a+=username;break;case"email":var N=username+"@example.com";e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>email</span>": "'+N+'"',a+=N;break;case"emailVerified":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>username</span>": "'+username+'"',a+=username;break;case"twitterHandle":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>twitterHandle</span>": "'+username+'"',a+=username;break;case"usPhone":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>usPhone</span>": "'+b+'"',a+=b;break;case"ukPhone":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>ukPhone</span>": "'+h+'"',a+=h;break;case"dePhone":e=e+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span>dePhone</span>": "'+y+'"',a+=y;break;default:console.log("an error has occured, please contact @seven11nash on Twitter or via marc@dummi.io to report this bug.")}f+1==valueArray.length?e+="<br>":(e+=",<br>",a+=",")}e+="&nbsp;&nbsp;&nbsp;&nbsp;}",n+1==l?e+="<br>":(e+=",<br>",a+="<br>")}switch(0==l&&(e+="<br>"),e+="]<br>}",document.getElementById("codeField").innerHTML="",outputType){case"CSV":document.getElementById("codeField").innerHTML=a;break;default:document.getElementById("codeField").innerHTML=e}if("CSV"==outputType){a="data:text/csv;charset=utf-8,"+a,a=a.split("&nbsp;").join(""),a=a.split("<span>").join(""),a=a.split("</span>").join(""),a=a.split("<br>").join("\n");var I=encodeURI(a);document.getElementById("implementField").innerHTML="",$("#implementField").append('<input type="text" id="path--field" value="Download as an CSV file" readonly><a href="data:'+I+'" download="'+feedName+'.csv">Download</a>')}else{e=e.split("&nbsp;").join(""),e=e.split("<span>").join(""),e=e.split("</span>").join(""),e=e.split("<br>").join("");var I=e;I=JSON.parse(I),I="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(I)),document.getElementById("implementField").innerHTML="",$("#implementField").append('<input type="text" id="path--field" value="Download as a JSON file" readonly><a href="data:'+I+'" download="'+feedName+'.json">Download</a>')}}var outputType="JSON",feedName="dummi",valueArray=[],valueDetailArray=[],itemArray=["0","1"],gender="both";String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.camelCase=function(e){for(var a=e.split(" "),n=a.length,l="",s=0;n>s;s+=1)l+=0==s?a[s].toLowerCase():a[s].capitalize();return l},$("#feedName").focusin("input",function(e){$("#feedName").keyup(function(){setTimeout(function(){var e=$("#feedName").val();e=e.replace(/[^A-Za-z\s!?]/g,""),e=e.toLowerCase(),e=e.camelCase(e),feedName=""!=e?e:"dummi",updateFeed()},500)})}),$("#feedName").focusout("input",function(e){var a=$("#feedName").val();""==a&&(feedName="dummi",updateFeed())}),$("#itemNumber").focusin("input",function(e){$("#itemNumber").keyup(function(){setTimeout(function(){var e=$("#itemNumber").val();if(e=e.split(" ").join(""),e=e.replace(/[^0-9\s!?]/g,""),$("#itemNumber").val(e),""!=e){itemArray=[];for(var a=0;e>a;a+=1)itemArray.push('"'+a+'"')}updateFeed()},300)})}),$("#itemNumber").focusout("input",function(e){var a=$("#itemNumber").val();""==a&&($("#itemNumber").val("2"),itemArray=["0","1"],updateFeed())}),newFeed();