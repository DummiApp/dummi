function byId(e){return document.getElementById(e)}function getIndex(e,t){return Array.prototype.indexOf.call(e,t)}function forEach(e,t){for(var n=e.length;n--;)t(e[n],n)}function generateFullName(e){return consistentValues.fullName}function generateFirstName(){return generateFullName().split(" ")[0]}function generateLastName(){return generateFullName().split(" ")[1]}function generateGender(){return consistentValues.gender}function generateAge(e){e=e||"adult";var t={child:consistentValues.childAge,teen:consistentValues.teenAge,adult:consistentValues.adultAge,senior:consistentValues.seniorAge};return t[e]}function generateUsername(){return generateFirstName()[0].toLowerCase()+generateLastName()}function generateEmail(){return generateUsername()+"@example.com"}function generateEmailVerified(){return consistentValues.emailVerified}function generatePhoneNumber(e){if("de"===e){var t=["0150","0151","0160","0170","0171","0175","0152","0162","0172","0173","0174","0155","0163","0177","0178","0159","0176","0179","0161","0167","0164","0168","0169"],n=t[chance.integer({min:1,max:t.length-1})]+" "+chance.integer({min:1e6,max:9999999});return n}return chance.phone({country:e,mobile:!0})}function generateTwitterHandle(){return"@"+generateUsername()}function capitalize(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function replaceAt(e,t,n){return e.substr(0,t)+n+e.substr(t+n.length)}function doubleUp(e){return 10>e?"0"+e:e}function makeSentence(e,t){0>e&&(e=0),t>180&&(t=180);for(var n=HolderIpsum.words(chance.integer({min:e,max:t}),!0),a=chance.integer({min:60,max:80});a<n.length;a+=chance.integer({min:32,max:100}))n=replaceAt(n,a,". ");n=n.replace(" . ",". ");for(var i=n.split(". "),a=0;a<i.length;a++)i[a]=capitalize(i[a]),i[a]=i[a].replace(/\./g,"");return n=i.join(". "),n+"."}function generateTitle(){return consistentValues.title}function generateSubTitle(){return consistentValues.subTitle}function generateDatePublished(e){var t=doubleUp(consistentValues.month),n=doubleUp(consistentValues.day);return 2===t&&n>28&&(n=28),"USDate"===e?t+"/"+n+"/"+consistentValues.year:n+"/"+t+"/"+consistentValues.year}function generateAuthor(e){var t="";return t="username"===e?generateTwitterHandle():generateFullName()}function generateSnippet(){return consistentValues.snippet}function generateText(){return consistentValues.text}function generateRating(e){var t=consistentValues.rating;return"10"===e?t=2*t+"/10":t+="/5",t}function generateCommentAmount(){return consistentValues.comments+" comments"}function generatePost(){return consistentValues.post}function generateLikeAmount(){return consistentValues.likes+" likes"}function generateDescription(){return consistentValues.description}function generateYearPublished(){return consistentValues.year}function generatePrice(e){return"$"===e?e+consistentValues.price:consistentValues.price+e}function generateReviewAmount(){return consistentValues.comments+" reviews"}function generateTimePublished(){return doubleUp(2*consistentValues.hour)+":"+doubleUp(consistentValues.minute)}function generateComment(){return consistentValues.comment}function generateExtension(e){return"img"===e?consistentValues.imgExtension:"code"===e?consistentValues.codeExtension:consistentValues.extension}function generateFileName(e){if("onlyName"===e)return consistentValues.fileName;var t="";return schema.forEach(function(e){var n=e.option||null;"img"===n?t="img":"code"===n?t="code":"both"===n&&(t="")}),consistentValues.fileName+"."+generateExtension(t)}function generateDateCreated(){return generateDatePublished()}function newConsistentValues(){function e(){var e="both";return schema.forEach(function(t){var n=t.option||null;"fullName"===t.type&&(e=n)}),"both"===e&&(e=0===chance.integer({min:0,max:1})?"male":"female"),e}function t(){var e="",t=["png","jpeg","tiff","gif","bat","svg","ico"];return t[chance.integer({min:1,max:t.length-1})]}function n(){var e="",t=["html","css","scss","less","php","js","sql","json","csv","asp","cxx","c","hxx","java","jar","sh","xml"];return t[chance.integer({min:1,max:t.length-1})]}function a(){return 0===chance.integer({min:0,max:1})?t():n()}consistentValues.gender=e(),consistentValues.fullName=chance.name({gender:consistentValues.gender}),consistentValues.childAge=chance.integer({min:1,max:12}),consistentValues.teenAge=chance.integer({min:13,max:17}),consistentValues.adultAge=chance.integer({min:18,max:61}),consistentValues.seniorAge=chance.integer({min:62,max:95}),consistentValues.emailVerified=chance.bool({likelihood:60}),consistentValues.title=capitalize(HolderIpsum.words(chance.integer({min:1,max:5}),!0)),consistentValues.subTitle=capitalize(HolderIpsum.words(chance.integer({min:5,max:12}),!0)),consistentValues.description=capitalize(HolderIpsum.words(chance.integer({min:20,max:40}),!0))+".",consistentValues.snippet=makeSentence(80,100),consistentValues.text=makeSentence(150,180)+" "+makeSentence(100,180),consistentValues.post=makeSentence(70,160),consistentValues.comment=makeSentence(10,50),consistentValues.day=chance.integer({min:1,max:30}),consistentValues.month=chance.integer({min:1,max:12}),consistentValues.year=chance.integer({min:2e3,max:2016}),consistentValues.hour=chance.integer({min:1,max:12}),consistentValues.minute=chance.integer({min:0,max:59}),consistentValues.likes=chance.integer({min:0,max:230}),consistentValues.comments=chance.integer({min:0,max:70}),consistentValues.rating=chance.floating({min:1,max:5,fixed:1}),consistentValues.price=chance.integer({min:3,max:24})+".99",consistentValues.fileName=HolderIpsum.words(1,!0),consistentValues.extension=a(),consistentValues.imgExtension=t(),consistentValues.codeExtension=n()}function Generator(){function e(e){function t(e){for(var t=0;e>t;t++)n+="<br />"}for(var n="",a=0;r>a;a++)n+='<span class="pinkSpan">id: '+a+"</span>",t(1),e[0]&&e.forEach(function(e,r){n+="<span>"+e.key+":</span> ";var s=e.option||null,o=a+1,u=r+1;n+=i[o+u+((l-1)*a-1)],t(1)}),t(1);codeFieldOutput=n}function t(e){var t={};t[generateOptions.title]=[];for(var n=t[generateOptions.title],a=0;r>a;a++){var s={};s.id=a,e[0]&&e.forEach(function(e,t){var n=e.option||null,r=a+1,o=t+1;s[e.key]=i[r+o+((l-1)*a-1)]}),n.push(s)}jsonOutput=t}function n(e){function t(){a=a.slice(0,-1),a+="\n"}function n(e){a+=e.key+","}var a="";n({key:"id"}),e[0]&&e.forEach(n),t();for(var s=0;r>s;s++)a+=s+",",e[0]&&e.forEach(function(e,t){var n=e.option||null,r=s+1,o=t+1;a+=i[r+o+((l-1)*s-1)]+","}),t();csvOutput=a}var a={fullName:generateFullName,firstName:generateFirstName,lastName:generateLastName,gender:generateGender,age:generateAge,username:generateUsername,email:generateEmail,emailVerified:generateEmailVerified,phone:generatePhoneNumber,twitterHandle:generateTwitterHandle,title:generateTitle,subTitle:generateSubTitle,datePublished:generateDatePublished,author:generateAuthor,snippet:generateSnippet,text:generateText,rating:generateRating,comments:generateCommentAmount,post:generatePost,likes:generateLikeAmount,description:generateDescription,yearPublished:generateYearPublished,price:generatePrice,reviews:generateReviewAmount,timePublished:generateTimePublished,comment:generateComment,name:generateFileName,extension:generateExtension,dateCreated:generateDateCreated},i=["blank"],r=generateOptions.amount,l=0;schema.forEach(function(){l+=1});for(var s=0;r>s;s++)newConsistentValues(),schema.forEach(function(e){var t=e.option||null,n=a[e.type](t);i.push(n)});e(schema),t(schema),n(schema)}function refresh(){Generator(),els.codeField.innerHTML=codeFieldOutput}function findAvailableKey(e,t,n){t=t||0;for(var a=t?e+t:e,i=schema.length;i--;)if(i!==n&&schema[i].key===a)return t++,findAvailableKey(e,t,n);return a}function addValue(e){uniqueHelper++;var t=valueOptions[e]||null,n={type:e,key:findAvailableKey(e)};t&&(n.option=t.options[0].value),schema.push(n),refresh();var a="";a+='<section class="block">',a+='  <input type="text" class="node-name" maxlength="40" title="'+n.key+'" placeholder="'+n.key+'" value="'+n.key+'" disabled>',a+='  <ul class="block--tools">',a+='  <li><button class="edit">'+defaults.editIcon+'</button></li><li><button class="remove">'+defaults.removeIcon+"</button></li>",a+="  </ul>",t&&(a+='  <div class="block--options">',a+='		<span class="eyebrow">'+t.title+"</span>",a+='		<ul class="radio-list">',t.options.forEach(function(e,t){e.name=e.value+uniqueHelper,a+="			<li>",a+='				<input type="radio" name="'+n.key+'" id="'+e.name+'" value="'+e.value+'"',a+=0===t?" checked>":" >",a+='<label for="'+e.name+'">'+e.title+"</label>",a+="			</li>"}),a+="		</ul>",a+="	</div>"),a+="</section>",els.valueWrapper.insertAdjacentHTML("beforeend",a)}function clear(e){schema=[],els.valueWrapper.innerHTML="","full"===e&&(addValue("fullName"),generateOptions.amount=2,els.objectNumber.value=2,generateOptions.title="dummi-data",els.arrayName.value="dummi-data")}function toKey(e){return e.replace(/[^A-Za-z0-9\s_\-]+/g,"").replace(/\s(.)/g,function(e){return e.toUpperCase()}).replace(/\s/g,"")}function findParentContains(e,t,n){for(var a=e.parentElement,i=t.length;i--;)if(a.classList.contains(t[i]))return a;return n>1?findParentContains(a,t,n-1):!1}function setKey(e){var t=e.parentElement,n=getIndex(els.valueWrapper.children,t),a=toKey(e.value);a=findAvailableKey(a,0,n),e.value=a,schema[n].key=a,refresh();var i=t.querySelector(".radio-list");if(i){var r=i.children;forEach(r,function(e){e.firstElementChild.name=a})}}var els={arrayName:byId("arrayName"),objectNumber:byId("objectNumber"),valuePool:byId("valuePoolSelection"),valueType:byId("valueTypeSelection"),addValue:byId("addValue"),presetSelector:byId("presetSelector"),valueWrapper:byId("valueWrapper"),resetButton:byId("btnReset"),helpLink:byId("helpLink"),help:byId("help"),closeHelp:byId("closeLink"),codeField:byId("codeField"),downloadLabel:byId("path--field"),downloadJSON:byId("downloadJSON"),downloadCSV:byId("downloadCSV"),dataLink:byId("downloadData"),editIcon:document.querySelector(".edit"),removeIcon:document.querySelector(".remove")},uniqueHelper=0,valueOptions={fullName:{title:"gender",options:[{title:"Both",value:"both"},{title:"Male",value:"male"},{title:"Female",value:"female"}]},age:{title:"boundries",options:[{title:"Child",value:"child"},{title:"Teen",value:"teen"},{title:"Adult",value:"adult"},{title:"Senior",value:"senior"}]},phone:{title:"country",options:[{title:"US",value:"us"},{title:"UK",value:"uk"},{title:"DE",value:"de"}]},rating:{title:"out of options",options:[{title:"Out of 5",value:5},{title:"Out of 10",value:10}]},startTimes:{title:"time of day",options:[{title:"Any Time",value:"all"},{title:"Evening",value:"evening"},{title:"Midday",value:"midday"}]},datePublished:{title:"date format",options:[{title:"mm/dd/yyyy",value:"USDate"},{title:"dd/mm/yyyy",value:"nonUSDate"}]},dateCreated:{title:"date format",options:[{title:"mm/dd/yyyy",value:"USDate"},{title:"dd/mm/yyyy",value:"nonUSDate"}]},author:{title:"name",options:[{title:"Username",value:"username"},{title:"Full Name",value:"fullName"}]},price:{title:"currency",options:[{title:"Dollar",value:"$"},{title:"GBP",value:"£"},{title:"Euro",value:"€"}]},extension:{title:"types",options:[{title:"All",value:"all"},{title:"Images",value:"img"},{title:"Code",value:"code"}]},name:{title:"options",options:[{title:"Only Name",value:"onlyName"},{title:"Name and Extension",value:"alsoExtension"}]}},valuePools={users:["fullName","firstName","lastName","gender","age","username","email","emailVerified","phone","twitterHandle"],articles:["title","subTitle","datePublished","author","snippet","text","rating","comments"],blog:["title","author","datePublished","post","likes","comments"],books:["title","description","author","datePublished","yearPublished","price","rating","reviews"],comments:["author","datePublished","timePublished","comment","likes"],files:["name","extension","dateCreated"]},presets={users:["firstName","lastName","gender","age","username","email","phone"],articles:["title","subTitle","datePublished","author","text","rating","comments"],blog:["title","author","datePublished","post","likes","comments"],books:["title","description","author","datePublished","price","rating","reviews"],comments:["author","datePublished","timePublished","comment","likes"],files:["name","extension","dateCreated"]},consistentValues={},viewOptions={valuePool:els.valuePool.value},generateOptions={type:"tableOutput",title:els.arrayName.value||"dummi-data",amount:els.objectNumber.value||2},schema=[{type:"fullName",option:"both",key:"fullName"}],defaults={types:els.valueWrapper.innerHTML,arrayNamePlaceholder:"Array Name",editIcon:els.editIcon.innerHTML,removeIcon:els.removeIcon.innerHTML},codeFieldOutput="",jsonOutput="",csvOutput="";els.arrayName.addEventListener("keyup",function(){var e=toKey(this.value);generateOptions.title=e,refresh()}),els.objectNumber.addEventListener("keyup",function(){if(""===this.value)return!1;var e=500,t=1,n=parseInt(this.value.replace(/[^0-9]+/g,""),10);n=n>e?e:n,n=t>n?t:n,this.value=n,generateOptions.amount=n,refresh()}),els.valuePool.addEventListener("change",function(){var e=valuePools[this.value];els.valueType.innerHTML="",e.forEach(function(e){els.valueType.innerHTML+='<option value="'+e+'">'+e+"</option>"})}),els.addValue.addEventListener("click",function(){var e=els.valueType.value;addValue(e)}),els.valueWrapper.addEventListener("mousedown",function(e){var t=e.target,n=findParentContains(t,["edit"],2);t=n?n:t,t.classList.contains("edit")&&e.preventDefault()}),els.valueWrapper.addEventListener("click",function(e){var t=e.target;if("radio"===t.type){var n=t.parentElement.parentElement.parentElement.parentElement,a=getIndex(this.children,n);schema[a].option=t.value,refresh()}var i=findParentContains(t,["remove","edit"],2);if(t=i?i:t,t.classList.contains("edit")){var r=t.parentElement.parentElement.previousElementSibling;return r.disabled?(r.disabled=!1,r.focus()):r.blur()}if(t.classList.contains("remove")){var n=t.parentElement.parentElement.parentElement,a=getIndex(this.children,n);return schema.splice(a,1),this.removeChild(n),refresh()}}),els.valueWrapper.addEventListener("focus",function(e){var t=e.target;t.classList.contains("node-name")&&t.value===t.placeholder&&(t.value="")},!0),els.valueWrapper.addEventListener("blur",function(e){var t=e.target;t.classList.contains("node-name")&&(t.disabled=!0,""===t.value&&(t.value=t.placeholder),setKey(t))},!0),els.valueWrapper.addEventListener("keyup",function(e){var t=e.target;if(t.classList.contains("node-name"))return 13===e.keyCode?t.blur():void 0}),els.resetButton.addEventListener("click",function(){clear("full"),refresh()}),els.downloadJSON.addEventListener("click",function(){var e=jsonOutput;e=JSON.stringify(e,null,2);var t="data: text/json;charset=utf-8,"+encodeURIComponent(e);els.downloadJSON.setAttribute("href",t),els.downloadJSON.setAttribute("download",generateOptions.title+".json")}),els.downloadCSV.addEventListener("click",function(){var e=csvOutput,t="data: text/csv;charset=utf-8,"+encodeURIComponent(e);els.downloadCSV.setAttribute("href",t),els.downloadCSV.setAttribute("download",generateOptions.title+".csv")}),refresh();